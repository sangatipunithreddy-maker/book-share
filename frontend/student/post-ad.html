<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Post Book Ad â€” Student</title>
<link rel="stylesheet" href="../styles.css"></head>
<body>
<header class="app-header"><div class="wrap">
  <div class="brand"><div class="badge">B</div><div><div class="brand-name">BookShare</div><div id="roleChip" class="muted small"></div></div></div>
  <div class="userbar"><div id="whoami" class="muted small"></div><a class="btn ghost" href="#" id="logout">Logout</a></div>
</div></header>

<div class="container shell">
  <aside class="sidebar"><nav class="card nav"><a data-id="dashboard" href="dashboard.html">Dashboard</a>
<a data-id="profile" href="profile.html">View/Edit Profile</a>
<a data-id="notifications" href="notifications.html">Notifications</a>
<a data-id="post-ad" href="post-ad.html">Post Book Ad</a>
<a data-id="my-ads" href="my-ads.html">View My Ads</a>
<a data-id="browse" href="browse.html">Browse Book Ads</a>
<a data-id="search" href="search.html">Search Books</a>
<a data-id="buy" href="buy.html">Buy Book</a>
<a data-id="interview-blog" href="interview-blog.html">Read Interview Blog</a>
<a data-id="submit-interview" href="submit-interview.html">Submit Interview</a></nav></aside>
  <main class="card main-panel">
    <div class="titlebar"><h2>Post Book Ad</h2><div></div></div>
    <div><div class="grid grid-2"><div class="field"><label>Title</label><input/></div><div class="field"><label>Price</label><input type="number"/></div><div class="field"><label>Status</label><select><option>Available</option><option>Reserved</option><option>Sold</option></select></div><div class="field" style="grid-column:1/-1"><label>Description</label><textarea rows="5"></textarea></div></div><div class="mt-12"><button class="btn success">Create Ad</button></div></div>
  </main>
</div>
<script src="../js/auth.js"></script>
<script>
ensureRole('student');
activateNav('post-ad');
document.getElementById('logout').addEventListener('click', (e)=>{ e.preventDefault(); logoutUp(); });
</script>
</body></html>
<script src="../js/auth.js"></script>
<script>
ensureRole('student');
activateNav('post-ad');
document.querySelector('.btn.success').addEventListener('click', async ()=>{
  const title = document.querySelector('input').value || 'Untitled';
  const price = parseFloat(document.querySelector('input[type="number"]').value || '0');
  const status = document.querySelector('select').value;
  const desc = document.querySelector('textarea').value || '';
  try{
    await apiCreateAd({title, price, status, description: desc});
    alert('Ad created!'); location.href='my-ads.html';
  }catch(e){ alert('Failed: ' + e.message); }
});
</script>
