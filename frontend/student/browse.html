<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Browse Book Ads — Student</title>
<link rel="stylesheet" href="../styles.css"></head>
<body>
<header class="app-header"><div class="wrap">
  <div class="brand"><div class="badge">B</div><div><div class="brand-name">BookShare</div><div id="roleChip" class="muted small"></div></div></div>
  <div class="userbar"><div id="whoami" class="muted small"></div><a class="btn ghost" href="#" id="logout">Logout</a></div>
</div></header>

<div class="container shell">
  <aside class="sidebar"><nav class="card nav"><a data-id="dashboard" href="dashboard.html">Dashboard</a>
<a data-id="profile" href="profile.html">View/Edit Profile</a>
<a data-id="notifications" href="notifications.html">Notifications</a>
<a data-id="post-ad" href="post-ad.html">Post Book Ad</a>
<a data-id="my-ads" href="my-ads.html">View My Ads</a>
<a data-id="browse" href="browse.html">Browse Book Ads</a>
<a data-id="search" href="search.html">Search Books</a>
<a data-id="buy" href="buy.html">Buy Book</a>
<a data-id="interview-blog" href="interview-blog.html">Read Interview Blog</a>
<a data-id="submit-interview" href="submit-interview.html">Submit Interview</a></nav></aside>
  <main class="card main-panel">
    <div class="titlebar"><h2>Browse Book Ads</h2><div></div></div>
    <div><div class="grid grid-3"><div class="card" style="padding:14px"><b>DBMS by Korth</b><div class="muted">₹ 350</div><button class="btn success" style="margin-top:8px">Contact Seller</button></div><div class="card" style="padding:14px"><b>Operating Systems</b><div class="muted">₹ 400</div><button class="btn success" style="margin-top:8px">Contact Seller</button></div><div class="card" style="padding:14px"><b>Computer Networks</b><div class="muted">₹ 380</div><button class="btn success" style="margin-top:8px">Contact Seller</button></div></div></div>
  </main>
</div>
<script src="../js/auth.js"></script>
<script>
ensureRole('student');
activateNav('browse');
document.getElementById('logout').addEventListener('click', (e)=>{ e.preventDefault(); logoutUp(); });
</script>
  <script src="../js/enhance.js"></script>
</body></html>
<script src="../js/auth.js"></script>
<script>
ensureRole('student');
activateNav('browse');
(async ()=>{
  const g = document.querySelector('.grid.grid-3'); g.innerHTML='';
  const ads = await apiListAds();
  if(!ads.length){ g.innerHTML='<div class="muted">No ads available.</div>'; return; }
  ads.forEach(ad=>{
    const card = document.createElement('div');
    card.className='card'; card.style.padding='14px';
    card.innerHTML = `<b>${ad.title}</b><div class="muted">₹ ${ad.price}</div><div class="small muted">by ${ad.seller?.name||'User'}</div>`;
    g.appendChild(card);
  });
})();
</script>
