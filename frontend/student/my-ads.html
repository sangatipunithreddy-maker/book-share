<!DOCTYPE html>
<html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Ads — Student</title>
<link rel="stylesheet" href="../styles.css"></head>
<body>
<header class="app-header"><div class="wrap">
  <div class="brand"><div class="badge">B</div><div><div class="brand-name">BookShare</div><div id="roleChip" class="muted small"></div></div></div>
  <div class="userbar"><div id="whoami" class="muted small"></div><a class="btn ghost" href="#" id="logout">Logout</a></div>
</div></header>

<div class="container shell">
  <aside class="sidebar"><nav class="card nav"><a data-id="dashboard" href="dashboard.html">Dashboard</a>
<a data-id="profile" href="profile.html">View/Edit Profile</a>
<a data-id="notifications" href="notifications.html">Notifications</a>
<a data-id="post-ad" href="post-ad.html">Post Book Ad</a>
<a data-id="my-ads" href="my-ads.html">View My Ads</a>
<a data-id="browse" href="browse.html">Browse Book Ads</a>
<a data-id="search" href="search.html">Search Books</a>
<a data-id="buy" href="buy.html">Buy Book</a>
<a data-id="interview-blog" href="interview-blog.html">Read Interview Blog</a>
<a data-id="submit-interview" href="submit-interview.html">Submit Interview</a></nav></aside>
  <main class="card main-panel">
    <div class="titlebar"><h2>My Ads</h2><div></div></div>
    <div><table><thead><tr><th>ID</th><th>Title</th><th>Price</th><th>Status</th><th>Date</th></tr></thead><tbody><tr><td>101</td><td>Clean Code</td><td>₹ 300</td><td>Available</td><td>2025-10-10</td></tr><tr><td>102</td><td>Algorithms</td><td>₹ 450</td><td>Reserved</td><td>2025-10-12</td></tr></tbody></table>
<div id="emptyMsg" class="muted" style="margin-top:8px"></div></div>
  </main>
</div>
<script src="../js/auth.js"></script>
<script>
ensureRole('student');
activateNav('my-ads');
document.getElementById('logout').addEventListener('click', (e)=>{ e.preventDefault(); logoutUp(); });
</script>
  <script src="../js/enhance.js"></script>
</body></html>
<script src="../js/auth.js"></script>
<script>
ensureRole('student');
activateNav('my-ads');
(async ()=>{
  const data = await apiMyAds();
  const tbody = document.getElementById('myAdsTbody'); if(tbody) tbody.innerHTML='';
  if(!data.length){ document.getElementById('emptyMsg').textContent='No ads yet'; return; }
  data.forEach(it=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${it.id}</td><td>${it.title}</td><td>₹ ${it.price}</td><td>${it.status}</td><td>${(it.created_at||'').slice(0,10)}</td>`;
    tbody.appendChild(tr);
  });
})();
</script>
